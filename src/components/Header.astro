---
const pathname = new URL(Astro.request.url).pathname;
const currentPath = pathname.slice(1); // remove the first "/"
import Footer from "./Footer.astro";
import Heading from "./Heading.astro";
---

<header x-data="{ showmenu: false }" class="relative z-50">
  <div
    id="navbar"
    class="w-full flex flex-row justify-between items-center px-6 pt-6 md:pt-0 md:px-10"
  >
    <div id="logo" class="mt-0 md:mt-10">
      <a href="/" class="text-accent"><Heading style="h1">Höjskolen</Heading></a
      >
    </div>
    <button
      id="burgermenu"
      class="ml-auto text-accent"
      x-on:click="showmenu = ! showmenu"
      aria-label="Åbn menu"
    >
      <img src="/public/img/nav_icon_desktop.webp" alt="" class="w-9 md:w-15" />
    </button>
  </div>

  <!-- Fullscreen overlay menu -->
  <nav
    id="mobilmenu"
    x-show="showmenu"
    x-transition:enter="transition transform duration-300"
    x-transition:enter-start="translate-x-full"
    x-transition:enter-end="translate-x-0"
    x-transition:leave="transition transform duration-200"
    x-transition:leave-start="translate-x-0"
    x-transition:leave-end="translate-x-full"
    class="fixed inset-0 bg-secondary-2 flex flex-col justify-between z-40 transform"
  >
    <!-- Topbar med H1 + luk-knap -->
    <div class="flex justify-between items-center px-6 pt-6 md:px-10">
      <div
        x-show="showmenu"
        x-transition:enter="transition ease-out duration-300"
        x-transition:enter-start="opacity-0 -translate-x-6"
        x-transition:enter-end="opacity-100 translate-x-0"
        class="text-accent"
      >
        <Heading style="h1">Höjskolen</Heading>
      </div>

      <button
        class="text-accent"
        x-on:click="showmenu = false"
        x-transition:enter="transition ease-out duration-300 delay-100"
        x-transition:enter-start="opacity-0 translate-x-6"
        x-transition:enter-end="opacity-100 translate-x-0"
        aria-label="Luk menu"
      >
        <img src="/public/img/back_desktop.webp" alt="" class="w-9 md:w-15" />
      </button>
    </div>

    <!-- Menu-links -->
    <ul
      class="flex flex-col items-end text-right gap-2 uppercase pr-6 mt-10 md:mt-0 md:mb-7 md:pr-10"
      x-transition:enter="transition ease-out duration-300 delay-150"
      x-transition:enter-start="opacity-0 translate-x-8"
      x-transition:enter-end="opacity-100 translate-x-0"
    >
      <li>
        <a
          href="/hojskoleophold/"
          class="transition-colors duration-200 text-accent hover:text-primary"
          ><Heading style="h4">Højskoleophold</Heading></a
        >
      </li>
      <li>
        <a
          href="/priser/"
          class="transition-colors duration-200 text-accent hover:text-primary"
          ><Heading style="h4">Priser</Heading></a
        >
      </li>
      <li>
        <a
          href="/infomoder/"
          class="transition-colors duration-200 text-accent hover:text-primary"
          ><Heading style="h4">Infomøder</Heading></a
        >
      </li>
      <li>
        <a
          href="/tilmeld/"
          class="transition-colors duration-200 text-secondary hover:underline"
          ><Heading style="h4">Tilmeld dig her</Heading></a
        >
      </li>
    </ul>

    <!-- Footer nederst -->
    <div class="mt-auto w-full">
      <Footer />
    </div>
  </nav>
</header>
